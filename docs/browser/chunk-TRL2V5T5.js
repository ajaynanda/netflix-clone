import"./chunk-GKVHQ62L.js";import"./chunk-GI3SSL4I.js";import{a as j}from"./chunk-YCCJOMXO.js";import{a as O,b as A,c as G,d as K,e as Q,f as q}from"./chunk-WMJRO2V5.js";import"./chunk-W7IXBIYD.js";import{A as w,B as u,D as f,E as g,F as h,G as n,H as a,I as x,L as y,M as b,N as T,O as M,P as B,Q as o,R as m,S as I,T as k,W as c,X as v,Y as C,aa as V,ba as F,ca as U,da as $,ja as R,k as S,ka as z,l as E,m as D,u as _,v as P,w as l}from"./chunk-DC25UR2F.js";var N=(()=>{let i=class i{transform(s,...r){return new Date(s).getFullYear().toString()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=D({name:"year",type:i,pure:!0,standalone:!0});let t=i;return t})();var H=(()=>{let i=class i{transform(s){s<=0;let r=Math.floor(s/60),p=s%60;return`${r}hr ${p}min`}};i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=D({name:"runtime",type:i,pure:!0,standalone:!0});let t=i;return t})();var Y=["swiperContainer"];function J(t,i){t&1&&x(0,"app-loader")}function W(t,i){if(t&1&&(n(0,"span",17),o(1),a()),t&2){let e=i.$implicit;l(),m(e==null?null:e.english_name)}}function X(t,i){if(t&1&&(n(0,"span",22),o(1),a()),t&2){let e=i.$implicit;l(),m(e==null?null:e.name)}}function Z(t,i){if(t&1&&(n(0,"section",10)(1,"div",11)(2,"div",12),x(3,"img",13),c(4,"image"),a(),n(5,"div",14)(6,"h1",15),o(7),a(),n(8,"div",5)(9,"span",16),o(10),c(11,"year"),a(),n(12,"li"),g(13,W,2,1,"span",17,f),a(),n(15,"li",18)(16,"span"),o(17),a()()(),n(18,"div",19),o(19),c(20,"runtime"),a(),n(21,"p",20),o(22),a(),n(23,"div",21),g(24,X,2,1,"span",22,f),a(),n(26,"div",23)(27,"span",24),o(28,"Release Date: "),a(),n(29,"span"),o(30),c(31,"date"),a()(),n(32,"div")(33,"span"),o(34,"Rating: "),n(35,"span",25),o(36),c(37,"number"),a()()(),n(38,"button",26),o(39,"Play"),a()()()()),t&2){let e=y();l(3),u("src",v(4,8,e.movieData==null?null:e.movieData.poster_path),_),l(4),m(e.movieData==null?null:e.movieData.title),l(3),m(v(11,10,e.movieData==null?null:e.movieData.release_date)),l(3),h(e.movieData==null?null:e.movieData.spoken_languages),l(4),m((e.movieData==null?null:e.movieData.adult)==!0?"A 18+":"U/A 13+"),l(2),m(v(20,12,e.movieData==null?null:e.movieData.runtime)),l(3),m(e.movieData==null?null:e.movieData.overview),l(2),h(e.movieData==null?null:e.movieData.genres),l(6),m(v(31,14,e.movieData==null?null:e.movieData.release_date)),l(6),I("",C(37,16,e.movieData==null?null:e.movieData.vote_average,"1.1-1"),"/10")}}function ee(t,i){if(t&1&&(n(0,"span",17),o(1),a()),t&2){let e=i.$implicit;l(),m(e==null?null:e.english_name)}}function te(t,i){if(t&1&&(n(0,"span",22),o(1),a()),t&2){let e=i.$implicit;l(),m(e==null?null:e.name)}}function ie(t,i){if(t&1&&(n(0,"section",10)(1,"div",11)(2,"div",12),x(3,"img",13),c(4,"image"),a(),n(5,"div",14)(6,"h1",15),o(7),a(),n(8,"div",5)(9,"span",27),c(10,"date"),o(11),c(12,"year"),a(),n(13,"li"),g(14,ee,2,1,"span",17,f),a(),n(16,"li",18)(17,"span"),o(18),a()()(),n(19,"p",20),o(20),a(),n(21,"div",21),g(22,te,2,1,"span",22,f),a(),n(24,"div",23)(25,"span",24),o(26,"Release Date: "),a(),n(27,"span"),o(28),c(29,"date"),a()(),n(30,"div")(31,"span"),o(32,"Rating: "),n(33,"span",25),o(34),c(35,"number"),a()()(),n(36,"button",26),o(37,"Play"),a()()()()),t&2){let e=y();l(3),u("src",v(4,9,e.movieData==null?null:e.movieData.poster_path),_),l(4),m(e.movieData==null?null:e.movieData.original_name),l(2),b("title","Latest Realse:",v(10,11,e.movieData==null?null:e.movieData.last_air_date),""),l(2),m(v(12,13,e.movieData==null?null:e.movieData.last_air_date)),l(3),h(e.movieData==null?null:e.movieData.spoken_languages),l(4),m((e.movieData==null?null:e.movieData.adult)==!0?"A 18+":"U/A 13+"),l(2),m(e.movieData==null?null:e.movieData.overview),l(2),h(e.movieData==null?null:e.movieData.genres),l(6),m(v(29,15,e.movieData==null?null:e.movieData.first_air_date)),l(6),I("",C(35,17,e.movieData==null?null:e.movieData.vote_average,"1.1-1"),"/10")}}function ne(t,i){if(t&1&&x(0,"iframe",6),t&2){let e=y().$implicit;u("src",e,P)}}function ae(t,i){if(t&1&&w(0,ne,1,1,"iframe",28),t&2){let e=y();u("ngIf",e.videoUrl.length>0)}}function re(t,i){if(t&1&&(n(0,"div",9),x(1,"img",29),a()),t&2){let e=i.$implicit;l(),b("src","https://image.tmdb.org/t/p/w500/",e==null?null:e.file_path,"",_)}}var Ee=(()=>{let i=class i{constructor(){this.loaderState=!1,this.route=S(z),this.movieService=S(O),this.tvShowService=S(j),this.videoUrl=[],this.sanitizer=S(R),this.isTvShow=!1}ngOnInit(){this.loaderState=!0;let s=this.route.snapshot.paramMap.get("id");this.route.queryParams.subscribe(r=>{this.isTvShow=r.isTvShow==="true"}),this.isTvShow?this.getSeriesDetails(s):this.getBannerDetails(s)}ngAfterViewInit(){this.initSwiper()}initSwiper(){return new A(this.swiperContainer.nativeElement,{effect:"fade",flipEffect:{slideShadows:!0},modules:[G,K],slidesPerView:3,slidesPerGroup:2,centeredSlides:!0,loop:!0,breakpoints:{600:{slidesPerView:2,slidesPerGroup:2,spaceBetween:5,centeredSlides:!1},900:{slidesPerView:3,slidesPerGroup:3,spaceBetween:5,centeredSlides:!1},1200:{slidesPerView:4,slidesPerGroup:4,spaceBetween:5,centeredSlides:!1},1500:{slidesPerView:3,slidesPerGroup:5,spaceBetween:5,centeredSlides:!1},1800:{slidesPerView:5,slidesPerGroup:5,spaceBetween:5,centeredSlides:!0}}})}getSeriesDetails(s){this.tvShowService.getSeriesDetails(s).subscribe(r=>{console.log(r,"res serie datilas"),this.movieData=r,this.getSeriesVideo(this.movieData.id),this.getSeriesImages(this.movieData.id)})}getSeriesVideo(s){this.tvShowService.getSeriesVideo(s).subscribe(r=>{let p=r.results.filter(d=>d.type=="Trailer");for(let d of p)this.videoUrl.push(this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${d?.key}?controls=0&autoplay=1&mute=1&loop=1&playlist=${d?.key}`));this.loaderState=!1})}getSeriesImages(s){this.tvShowService.getSeriesImages(s).subscribe(r=>{console.log(r,"mages"),this.movieImages=r})}getBannerDetails(s){this.movieService.getBannerDetail(s).subscribe(r=>{this.movieData=r,this.getBannerVideo(this.movieData.id),this.getMovieImages(this.movieData.id)})}getBannerVideo(s){this.movieService.getBannerVideo(s).subscribe(r=>{let p=r.results.filter(d=>d.type=="Trailer");for(let d of p)this.videoUrl.push(this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${d?.key}?controls=0&autoplay=1&mute=1&loop=1&playlist=${d?.key}`))}),this.loaderState=!1}getMovieImages(s){this.movieService.getMovieImages(s).subscribe(r=>{this.movieImages=r})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=E({type:i,selectors:[["app-movie-detail"]],viewQuery:function(r,p){if(r&1&&T(Y,5),r&2){let d;M(d=B())&&(p.swiperContainer=d.first)}},standalone:!0,features:[k],decls:17,vars:3,consts:[["swiperContainer",""],[4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"container","mx-auto","px-4","py-8","border-t-2","border-red-200"],[1,"p-5","text-3xl"],[1,"flex"],["frameborder","0",1,"ml-6",3,"src"],[1,"swiper-container","relative"],[1,"swiper-wrapper","flex","-ml-[40%]"],[1,"swiper-slide","ml-3"],[1,"container","mx-auto","px-4","py-8"],[1,"flex","flex-col","lg:flex-row","items-center","lg:items-start","lg:space-x-8"],[1,"w-full","lg:w-1/3","mb-8","lg:mb-0"],["alt","Movie Poster",1,"w-full","rounded-lg","shadow-lg",2,"height","550px",3,"src"],[1,"w-full","lg:w-2/3"],[1,"text-6xl","font-bold","mb-4"],[1,"mr-4"],[1,"ml-1"],[1,"ml-3"],[1,"flex","my-2"],[1,"text-lg","mb-6","w-10/12"],[1,"mb-4","flex"],[1,"inline-block","bg-red-600","px-3","py-1","text-sm","font-semibold","rounded-full","ml-2"],[1,"mb-4"],[1,"font-semibold"],[1,"text-green-500","text-1xl","font-semibold"],[1,"bg-red-600","hover:bg-red-700","text-white","font-bold","py-2","px-4","rounded","mt-4"],[1,"mr-4",3,"title"],["class","ml-6","frameborder","0",3,"src",4,"ngIf"],["alt","",1,"object-cover",3,"src"]],template:function(r,p){r&1&&(w(0,J,1,0,"app-loader",1)(1,Z,40,19,"section",2)(2,ie,38,20,"section",2),n(3,"section",3)(4,"h1",4),o(5,"Trailers"),a(),n(6,"div",5),g(7,ae,1,1,"iframe",6,f),a()(),n(9,"section",3)(10,"h1",4),o(11,"Images"),a(),n(12,"div",7,0)(14,"div",8),g(15,re,2,2,"div",9,f),a()()()),r&2&&(u("ngIf",p.loaderState),l(),u("ngIf",!p.isTvShow),l(),u("ngIf",p.isTvShow),l(5),h(p.videoUrl),l(8),h(p.movieImages==null?null:p.movieImages.backdrops))},dependencies:[$,V,U,F,Q,N,H,q],styles:[".swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px;cursor:pointer;width:300px!important;height:300px!important;object-fit:cover}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:active{cursor:grabbing}.swiper-slide[_ngcontent-%COMP%]:hover{transform:scale(1.5);transition:all .3s ease-in-out;transition-delay:.3s;z-index:1}.swiper-slide[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transition-delay:.3s;box-shadow:0 0 5px 1px #00000080}"]});let t=i;return t})();export{Ee as MovieDetailComponent};
